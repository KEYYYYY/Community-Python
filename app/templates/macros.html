{% macro pagination_widget(pagination, endpoint) %}
<ul class="pagination">
    <li class="{% if not pagination.has_prev %}disabled{% endif %}">
        {% if pagination.has_prev %}
        <a href="{{ url_for(endpoint, page=pagination.page - 1, **kwargs) }}"
           aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
        </a>
        {% else %}
        <span aria-hidden="true">&laquo;</span>
        {% endif %}
    </li>
    {% for p in pagination.iter_pages() %}
    {% if p %}
    <li class="{% if p == pagination.page %}active{% endif %}">
        <a href="{{ url_for(endpoint, page=p, **kwargs) }}">{{ p }}</a>
    </li>
    {% else %}
    <li class="disabled">
        <span>&hellip;</span>
    </li>
    {% endif %}
    {% endfor %}
    <li class="{% if not pagination.has_next %}disabled{% endif %}">
        {% if pagination.has_next %}
        <a href="{{ url_for(endpoint, page=pagination.page + 1, **kwargs) }}"
           aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
        </a>
        {% else %}
        <span aria-hidden="true">&raquo;</span>
        {% endif %}
    </li>
</ul>
{% endmacro %}